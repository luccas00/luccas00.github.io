<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Resume â€” Luccas Carneiro</title>
  <meta name="description" content="CurrÃ­culo de Luccas Carneiro (EN/PT-BR).">
  <link rel="icon" type="image/png" href="https://github.com/luccas00.png">

  <!-- Reuso do seu design system -->
  <style>
    :root{
      --bg:#0b0c10; --card:#121317; --text:#e6e6e6; --muted:#b3b3b3;
      --link:#58a6ff; --accent:#1f6feb; --border:#23262d; --badge-bg:#1e1f25;
    }
    @media (prefers-color-scheme: light){
      :root{ --bg:#fff; --card:#f7f8fa; --text:#0b0c10; --muted:#343a40; --link:#0a66c2; --accent:#0a66c2; --border:#e6e8ee; --badge-bg:#eef1f6; }
    }
    *{box-sizing:border-box}
    body{margin:0;font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,sans-serif;background:var(--bg);color:var(--text)}
    a{color:var(--link);text-decoration:none} a:hover{text-decoration:underline}
    .container{max-width:980px;margin:0 auto;padding:24px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:24px;margin:16px 0}
    h1,h2{margin:0 0 12px;line-height:1.25}
    .btn{display:inline-flex;align-items:center;justify-content:center;padding:8px 14px;border:1px solid var(--border);background:var(--card);color:var(--text);border-radius:10px;font-weight:600;text-decoration:none;gap:8px;transition:transform .06s ease,border-color .2s,background .2s}
    .btn:hover{border-color:var(--accent);transform:translateY(-1px)}
    .btn.primary{background:var(--accent);color:#fff;border-color:var(--accent)}
    .title-actions{display:flex;align-items:center;gap:12px}
    .title-actions .actions{margin-left:auto;display:flex;gap:8px;flex-wrap:wrap}
    /* Viewer */
    .pdf-wrap{margin-top:16px}
    .pdf-frame{width:100%; height:80vh; border:1px solid var(--border); border-radius:12px; background:#000; display:block}
    .fallback{background:var(--badge-bg);border:1px dashed var(--border);border-radius:12px;padding:16px;color:var(--muted);text-align:center}
  </style>
</head>
<body>

  <main class="container">

    <section class="card">
      <div class="title-actions">
        <h1>ðŸ“„ Resume</h1>
        <div class="actions">
          <button class="btn" id="btn-en" type="button">Resume (EN)</button>
          <button class="btn" id="btn-pt" type="button">CurrÃ­culo (PT-BR)</button>
          <a class="btn" id="downloadBtn" href="/resumes/ResumeEnglish.pdf" download="Luccas-Carneiro-Resume-EN.pdf">Download PDF</a>
          <a class="btn" id="downloadBtn" href="/resumes/Resume.pdf" download="Luccas-Carneiro-Curriculo-PT~.pdf">Baixar PDF</a>
          <a class="btn" href="/" rel="noopener">Home</a>
        </div>
      </div>

      <div class="pdf-wrap">
        <!-- IFRAME do PDF -->
        <iframe
          id="pdfFrame"
          class="pdf-frame"
          title="Visualizador de CurrÃ­culo"
          src="/resumes/ResumeEnglish.pdf#view=FitH"
        ></iframe>

        <!-- Fallback para navegadores que nÃ£o exibem PDF inline (iOS/Safari antigos) -->
        <div class="fallback" id="pdfFallback" style="display:none;">
          Seu navegador nÃ£o suportou a visualizaÃ§Ã£o inline. Abra o arquivo:
          <p><a id="fallbackLink" class="btn primary" href="/resumes/ResumeEnglish.pdf" target="_blank" rel="noopener">Abrir PDF</a></p>
        </div>
      </div>
    </section>

    <footer class="container" style="text-align:center;color:var(--muted);font-size:.9rem">
      <p>Â© <span id="y"></span> Luccas â€” Power Platform & Dynamics 365</p>
    </footer>
  </main>

  <script>
    // Ano
    const y = document.getElementById('y');
    if (y) y.textContent = new Date().getFullYear();

    // Arquivos
    const files = {
      en: '/resumes/ResumeEnglish.pdf',
      pt: '/resumes/Resume.pdf'
    };

    // ParÃ¢metros do viewer (Chrome/Firefox honram zoom; navpanes/pagemode sÃ£o best-effort)
    const VIEW_OPTS = '#page=1&zoom=page-fit&view=FitH&navpanes=0&pagemode=none';

    const frame        = document.getElementById('pdfFrame');
    const downloadBtn  = document.getElementById('downloadBtn');
    const fallback     = document.getElementById('pdfFallback');
    const fallbackLink = document.getElementById('fallbackLink');
    const btnEN        = document.getElementById('btn-en');
    const btnPT        = document.getElementById('btn-pt');

    let current = 'en';

    function buildUrl(file){ return file + VIEW_OPTS; }

    function switchTo(lang){
      current = (lang === 'pt') ? 'pt' : 'en';
      const file = files[current] || files.en;

      // Atualiza iframe
      frame.src = buildUrl(file);

      // Atualiza download (forÃ§ando salvar ao invÃ©s de abrir)
      downloadBtn.href = file;
      downloadBtn.setAttribute(
        'download',
        current === 'pt' ? 'Luccas-Carneiro-Curriculo-PT.pdf' : 'Luccas-Carneiro-Resume-EN.pdf'
      );

      // Fallback link
      if (fallbackLink) fallbackLink.href = file;

      // Estado visual dos botÃµes
      btnEN.classList.toggle('primary', current === 'en');
      btnPT.classList.toggle('primary', current === 'pt');
    }

    btnEN.addEventListener('click', () => switchTo('en'));
    btnPT.addEventListener('click', () => switchTo('pt'));

    // Fallback simples se o iframe falhar
    frame.addEventListener('error', () => {
      frame.style.display = 'none';
      if (fallback) fallback.style.display = 'block';
    });

    // Primeira renderizaÃ§Ã£o
    switchTo('en');
  </script>

</body>
</html>
